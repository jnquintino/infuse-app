<div class="container mt-4">
  <h2>Consulta de Créditos</h2>

  <div class="form-group">
    <label for="tipoBusca">Tipo de Consulta:</label>
    <select id="tipoBusca" class="form-control" [(ngModel)]="tipoBusca">
      <option value="nfse">Por NFS-e</option>
      <option value="credito">Por Crédito</option>
    </select>
  </div>

  <div class="form-group">
    <label for="numero">Número:</label>
    <input type="text" id="numero" class="form-control" [(ngModel)]="numero">
  </div>

  <button class="btn btn-primary mt-2" (click)="buscar()">Buscar</button>

  <div *ngIf="erro" class="alert alert-danger mt-3">{{ erro }}</div>

  <table class="table mt-4" *ngIf="resultados.length > 0">
    <thead>
      <tr>
        <th>Número Crédito</th>
        <th>Número NFS-e</th>
        <th>Data Constituição</th>
        <th>Valor ISSQN</th>
        <th>Tipo Crédito</th>
        <th>Simples Nacional</th>
        <th>Aliquota (%)</th>
        <th>Valor Faturado</th>
        <th>Valor Dedução</th>
        <th>Base Cálculo</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let credito of resultados">
        <td>{{ credito.numeroCredito }}</td>
        <td>{{ credito.numeroNfse }}</td>
        <td>{{ credito.dataConstituicao }}</td>
        <td>{{ credito.valorIssqn | currency }}</td>
        <td>{{ credito.tipoCredito }}</td>
        <td>{{ credito.simplesNacional }}</td>
        <td>{{ credito.aliquota }}</td>
        <td>{{ credito.valorFaturado | currency }}</td>
        <td>{{ credito.valorDeducao | currency }}</td>
        <td>{{ credito.baseCalculo | currency }}</td>
      </tr>
    </tbody>
  </table>
</div>
